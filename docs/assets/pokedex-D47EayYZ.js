import{o as e,a as c,w as b,v as k,x as N,L as j}from"./chunk-QMGIS6GS-CJK3irhm.js";import{P}from"./ProgressBar-CWwTk8BI.js";function S({pokemon:i,data:s}){const n=[];s&&n.push({label:"HP:",value:s.stats[0].base_stat},{label:"Attack:",value:s.stats[1].base_stat},{label:"Defense:",value:s.stats[2].base_stat},{label:"Speed:",value:s.stats[3].base_stat},{label:"Special Attack:",value:s.stats[4].base_stat},{label:"Special Defense:",value:s.stats[5].base_stat});function m(l){return l?l.replace(/-/g," ").replace(/\b\w/g,x=>x.toUpperCase()):""}return e.jsx("div",{className:"bg-gray-800 w-full h-full rounded-xl mt-5 ml-5 flex",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col h-100 w-60 items-center",children:[e.jsx("div",{className:"flex items-center justify-center h-52 w-52 bg-blue-200 rounded-xl m-4",children:e.jsx("img",{className:"h-full w-full object-cover",src:s.sprites.front_default,alt:i})}),e.jsx("div",{className:"flex bg-white justify-center text-black rounded-lg mb-2 w-50 border-2 h-10 border-gray-500",children:e.jsx("h1",{className:"text-[25px]",children:m(i)})}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{children:e.jsx("img",{className:"w-25",src:`/my-react-router-app/TypeSprites/${s.types[0].type.name}.png`,alt:s.types[0].type.name})}),s.types.length===2&&e.jsx("span",{children:e.jsx("img",{className:"w-25",src:`/my-react-router-app/TypeSprites/${s.types[1].type.name}.png`,alt:s.types[1].type.name})})]})]}),e.jsx("div",{className:"flex flex-col w-full h-full pt-4 pr-4",children:n.map((l,x)=>e.jsxs("div",{className:"flex bg-gray-700 text-white p-1 rounded-lg mb-2 [&>*]:text-sm ",children:[e.jsx("span",{className:"flex-2",children:l.label}),e.jsx("span",{className:"flex-1",children:l.value}),e.jsx("span",{className:"flex-3",children:e.jsx(P,{value:l.value,maxValue:200})})]},x))})]}):e.jsx("h1",{className:"text-white text-2xl text-center h-30 w-full justify-center content-center",children:"Search a pokemon to start"})})}function _({pokemon:i,data:s}){return e.jsxs("div",{className:"bg-gray-800 w-full h-full rounded-xl mt-5 ml-5 items-center",children:["This is the entries section for ",i,". On development..."]})}function E({pokemon:i,data:s}){return e.jsxs("div",{className:"bg-gray-800 w-full h-full rounded-xl mt-5 ml-5 items-center",children:["This is the locations section for ",i,". On development..."]})}function $({pokemon:i,data:s}){const[n,m]=c.useState([]),[l,x]=c.useState([]),[d,f]=c.useState(!1),[r,v]=c.useState(null);function h(t){return t?t.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase()):""}function g(t){return t.slice().sort((a,p)=>a.name.localeCompare(p.name))}async function w(t){try{const a=await fetch(t);if(!a.ok)throw new Error("Network response was not ok");const p=await a.json();v(p),f(!0)}catch(a){console.error("Error finding move data:",a)}}return c.useEffect(()=>{console.log(s),console.log("OwO"),s&&x(t=>s.game_indices.map(a=>a.version.name)),s&&m(t=>s.moves.map(a=>({name:a.move.name,url:a.move.url,games:a.version_group_details.map(p=>p.version_group.name)}))),console.log("Move List",JSON.stringify(n,null,2)),console.log(l)},[s]),e.jsxs("div",{className:"bg-gray-800 w-full h-100 rounded-xl mt-5 ml-5 items-center p-2 overflow-auto scrollbar-custom",children:[e.jsx("div",{className:"flex flex-wrap justify-evenly w-full",children:s?g(n).map(t=>e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>{console.log(t.games),w(t.url)},className:"rounded-xl bg-gray-700 flex items-center text-[15px] justify-center h-12 w-30 m-1",children:h(t.name)},t.name),e.jsx("br",{})]})):"No moves available"}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/30 bg-opacity-50 flex items-center justify-center z-50",onClick:()=>f(!1),children:e.jsxs("div",{className:"bg-gray-800 border border-gray-500 rounded-xl w-120 h-70 shadow-lg text-black overflow-auto flex",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex flex-col items-center justify-between h-62",children:[e.jsxs("div",{className:"mt-5 mx-5 mb-3 p-2 bg-gray-700 rounded-xl h-33",children:[e.jsx("img",{className:"w-30 mb-2",src:`/my-react-router-app/TypeSprites/${r.damage_class.name}.png`,alt:""}),e.jsx("img",{className:"w-30",src:`/my-react-router-app/TypeSprites/${r.type.name}.png`,alt:""})]}),e.jsxs("div",{className:"text-white bg-gray-700 h-10 w-34 rounded-xl flex items-center justify-center",children:["Accuracy: ",r.accuracy?r.accuracy+"%":"N/A"]}),e.jsxs("div",{className:"mt-3 text-white flex justify-between gap-3",children:[e.jsxs("span",{className:"bg-gray-700 p-1 rounded-lg",children:["Pow: ",r.power?r.power:"N/A"]}),e.jsxs("span",{className:"bg-gray-700 p-1 rounded-lg",children:["PP: ",r.pp?r.pp:"N/A"]})]})]}),e.jsxs("div",{className:"mt-5 p-1 bg-gray-700 h-59 rounded-xl",children:[e.jsx("div",{className:"w-68 bg-gray-400 text-black h-10 text-[30px] flex items-center justify-center rounded-xl",children:h(r.name)}),e.jsx("div",{className:"text-white w-68 h-48 p-3 overflow-auto",children:r.effect_entries[0]?r.effect_entries[0].effect:r.flavor_text_entries[0].flavor_text})]})]})})]})}function L({}){return[{title:"Pokedex"},{name:"description",content:"Welcome to React Router!"}]}const T=b(function(){const{pokemon:s,section:n}=k(),[m,l]=c.useState(""),x=N(),[d,f]=c.useState(null),[r,v]=c.useState(!1),[h,g]=c.useState(!1);c.useEffect(()=>{try{(async()=>{if(s){const u=await fetch(`https://pokeapi.co/api/v2/pokemon/${s}`);if(!u.ok)throw console.log(u.ok),new Error("Pokemon not found");const y=await u.json();f(y)}else f(null)})()}catch(o){console.error("Error fetching pokemon data:",o)}},[s]);function w(o){o(!0),setTimeout(()=>{o(!1)},2e3)}function t(o){l(o.target.value)}async function a(o){try{return(await fetch(`https://pokeapi.co/api/v2/pokemon/${o}`)).ok}catch(u){return console.error("Error checking pokemon existence:",u),!1}}async function p(){m!==""&&await a(m)?(x(`/pokedex/${m}`),l(""),g(!1)):(w(v),g(!0))}return e.jsx("div",{className:"flex items-center justify-center w-screen",children:e.jsxs("div",{className:"w-220  flex items ",children:[e.jsxs("div",{className:"w-42 h-full bg-gray-800 rounded-xl mt-5 ml-5 flex flex-col items-center",children:[e.jsx("input",{onChange:o=>{t(o)},className:`text-center bg-white max-w-[80%] h-5 rounded-[5px] mt-4 mb-2 text-black text-[12px] ${r?"animate-wiggle border-red-600 border-1":""}`,placeholder:"Type a pokemon here",type:"text",value:m}),h&&e.jsx("p",{className:"text-white text-[12px]",children:"Try a valid Pokemon"}),e.jsx("button",{onClick:p,className:"bg-gray-300 text-black p-1 m-2 text-[13px] rounded-[7px]",children:"Search"}),e.jsxs("ul",{className:"w-full flex flex-col [&>*]:text-center [&>*]:w-full [&>*]:text-[13px] [&>*]:text-white [&>*]:p-2 [&>*]:hover:bg-gray-300 [&>*]:hover:text-black",children:[e.jsx(j,{to:`/pokedex/${s}/overview`,children:e.jsx("li",{children:"Overview"})}),e.jsx(j,{to:`/pokedex/${s}/pokedex-entries`,children:e.jsx("li",{children:"Pokedex Entries"})}),e.jsx(j,{to:`/pokedex/${s}/locations`,children:e.jsx("li",{children:"Locations"})}),e.jsx(j,{to:`/pokedex/${s}/moves`,children:e.jsx("li",{children:"Moves"})})]})]}),n==="overview"||n===void 0?e.jsx(S,{pokemon:s,data:d}):e.jsx(e.Fragment,{}),n==="pokedex-entries"&&s?e.jsx(_,{pokemon:s,data:d}):e.jsx(e.Fragment,{}),n==="locations"&&s?e.jsx(E,{pokemon:s,data:d}):e.jsx(e.Fragment,{}),n==="moves"&&s?e.jsx($,{pokemon:s,data:d}):e.jsx(e.Fragment,{})]})})});export{T as default,L as meta};
